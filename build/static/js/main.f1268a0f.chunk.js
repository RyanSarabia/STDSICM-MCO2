(this["webpackJsonplasell2.0"]=this["webpackJsonplasell2.0"]||[]).push([[0],{102:function(e,t,n){},143:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),c=n(12),s=n.n(c),l=(n(143),n(102),n(34)),o=n(15),j=n(222),d=n(119),u=n(82),b=n(17),h=n(208),m=n(204),x=n(209);function O(){return Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.a,{container:!0,spacing:3,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(a.jsxs)(h.a,{item:!0,direction:"column",alignItems:"center",justify:"center",style:{textAlign:"center"},children:[Object(a.jsx)("h1",{style:{margin:0,fontSize:90,color:"#173D36"},children:" LaSell++ "}),Object(a.jsx)("h5",{style:{margin:0},children:"Made by Lasallians, for Lasallians. Sell and bid within the Lasallian community."})]}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(x.a,{variant:"contained",color:"primary",className:{textTransform:"uppercase"},href:"http://localhost:5000/auth/google",children:"Sign In With Google"})})]})})}var p=n(79),f=n(80),g=n(84),v=n(83),y=n(25),P=n.n(y),S=n(228),I=n(92),w=n(68),C=n(14),T=n(46),W=n(43),L=n(213),k=n(225);function q(){var e=Object(T.c)({criteriaMode:"all",mode:"onChange"}),t=e.register,n=e.errors,i=e.handleSubmit,c=e.formState,s=Object(r.useState)(!1),l=Object(C.a)(s,2),j=l[0],d=l[1],u=function(e){var t;P.a.get("/register").then((function(n){t={email:n.data.email,firstName:n.data.firstName,lastName:n.data.lastName,dpURL:n.data.dpURL,contact:e.contact,bio:e.bio},P.a.post("/register",t).then((function(e){console.log(e.data),d(!0)}))}))};return Object(a.jsx)(a.Fragment,{children:j?Object(a.jsx)(o.a,{to:"/explore"}):Object(a.jsx)("form",{onSubmit:i(u),children:Object(a.jsxs)(h.a,{container:!0,direction:"column",spacing:1,children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Contact Number",name:"contact",variant:"filled",fullWidth:!0,required:!0,inputProps:{maxLength:"10"},InputProps:{startAdornment:Object(a.jsx)(L.a,{position:"start",children:" +63 "})},inputRef:t({required:"This field is required.",pattern:{value:/^9[0-9]{9}$/,message:"Invalid contact number format."}}),helperText:Object(a.jsx)(W.a,{errors:n,name:"contact"})})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{multiline:!0,name:"bio",label:"Bio",variant:"filled",fullWidth:!0,rows:3,rowsMax:6,inputProps:{maxLength:"140"},inputRef:t})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(x.a,{onClick:u,color:"primary",variant:"contained",disabled:!c.isValid,type:"submit",children:"Confirm"})})]})})})}var D=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={user:""},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/register").then((function(t){e.setState({user:t.data})}))}},{key:"render",value:function(){var e=this.state.user;return Object(a.jsxs)(h.a,{container:!0,direction:"column",alignItems:"center",style:{marginTop:"20vh"},children:[Object(a.jsx)(w.a,{variant:"h5",style:{fontWeight:"bold"},children:Object(a.jsxs)(h.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:["Welcome,",Object(a.jsx)(S.a,{alt:e.firstName+e.lastName,src:e.dpURL,style:{margin:"0.5vh"}}),e.firstName," ",e.lastName,"! Complete your details to sign-up."]})}),Object(a.jsxs)(I.a,{style:{padding:"20px",minWidth:"35vh"},children:[Object(a.jsx)(q,{}),Object(a.jsx)("p",{style:{fontSize:"8px"},children:" You may still edit these later. "})]})]})}}]),n}(r.Component),M=n(215),R=n(218),F=n(231),N=n(174),A=n(216),U=n(214),B=n(112),z=n.n(B),E=n(217);function V(e){var t=e.image,n=e.open,r=e.onClose,i=e.caption;return Object(a.jsx)(N.a,{open:n,onClose:r,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"},closeAfterTransition:!0,BackdropProps:{timeout:500},children:Object(a.jsx)(U.a,{in:n,children:Object(a.jsx)(h.a,{container:!0,xs:12,direction:"column",justify:"center",alignItems:"center",children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(A.a,{action:Object(a.jsx)(E.a,{onClick:r,children:Object(a.jsx)(z.a,{})}),title:i}),Object(a.jsx)(R.a,{component:"img",style:{maxWidth:"60vh",minWidth:"50vh"},image:t})]})})})})}function H(e){var t=e.desc;if(t.length>250){var n="".concat(t.substring(0,250),"... ");return Object(a.jsx)("div",{children:Object(a.jsxs)(w.a,{style:{wordWrap:"break-word",fontSize:"12px"},children:[n,Object(a.jsx)("span",{children:Object(a.jsx)("a",{href:"/",style:{fontWeight:"bold",color:"green",textDecoration:"none"},children:"See More"})})]})})}return Object(a.jsx)(w.a,{style:{wordWrap:"break-word",fontSize:"12px"},children:t})}function $(e){var t=e.auction,n=Object(r.useState)(!1),i=Object(C.a)(n,2),c=i[0],s=i[1];return Object(a.jsxs)(m.a,{children:[Object(a.jsx)(I.a,{elevation:5,style:{height:"50vh",width:"50vw"},children:Object(a.jsxs)(h.a,{container:!0,justify:"space-around",alignContent:"space-between",style:{padding:"4vh"},children:[Object(a.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:5,spacing:1,style:{wordWrap:"break-word"},children:[Object(a.jsx)(h.a,{item:!0,style:{fontWeight:"bold",maxWidth:"100%"},children:Object(a.jsx)(w.a,{variant:"h5",style:{fontWeight:"bold",wordWrap:"break-word"},children:t.title})}),Object(a.jsx)(h.a,{item:!0,style:{maxWidth:"100%"},children:Object(a.jsx)(H,{desc:t.description})}),Object(a.jsx)(h.a,{item:!0,style:{maxWidth:"100%"},children:Object(a.jsx)(F.a,{label:t.cutoffdate,style:{maxWidth:"100%"}})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(x.a,{color:"primary",variant:"contained",children:"View Details"})})]}),Object(a.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:7,alignItems:"center",children:[Object(a.jsxs)(h.a,{item:!0,container:!0,justify:"space-around",children:[Object(a.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:6,alignItems:"center",children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(w.a,{variant:"h5",children:" Current"})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(F.a,{label:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.currentPrice)})})]}),Object(a.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:6,alignItems:"center",children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(w.a,{variant:"h5",children:" Steal "})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(F.a,{label:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.stealPrice)})})]})]}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(M.a,{onClick:function(){s(!0)},children:Object(a.jsx)(R.a,{component:"image",style:{height:200,width:200},image:t.photo})})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(F.a,{label:t.postdate,size:"small",variant:"outlined"})})]})]})}),Object(a.jsx)(V,{open:c,onClose:function(){console.log("closing"),s(!1)},image:t.photo,caption:t.title})]})}var G=n(230),J=n(210),Y=n(113),_=n.n(Y);function K(){var e=Object(r.useState)(""),t=Object(C.a)(e,2),n=t[0],i=t[1],c=Object(o.h)(),s=Object(o.g)(),l=function(){if(""!==n){var e=new URLSearchParams(c.search);e.set("search",n),s.push("/explore?search=".concat(e.get("search")))}};return Object(a.jsx)(J.a,{variant:"outlined",children:Object(a.jsx)(G.a,{name:"search",placeholder:"Search",inputProps:{maxLength:"30"},endAdornment:Object(a.jsx)(L.a,{position:"end",children:Object(a.jsx)(E.a,{"aria-label":"search",onClick:l,children:Object(a.jsx)(_.a,{})})}),style:{width:"30vw"},value:n,onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&l()}})})}var Q=n(53),X=n(232),Z=n(226);function ee(e){var t=e.pageCount;return Object(a.jsx)(o.b,{children:function(e){var n=e.location,r=new URLSearchParams(n.search),i=parseInt(r.get("page")||"1",10);return console.log("PAGE COUNT",t),Object(a.jsx)(X.a,{page:i,count:t,color:"primary",size:"large",variant:"outlined",renderItem:function(e){return Object(a.jsx)(Z.a,Object(Q.a)({component:l.b,to:"/explore".concat(1===e.page?"":"?page=".concat(e.page)).concat(null===r.get("search")?"":"?search=".concat(r.get("search")))},e))}})}})}function te(e){var t=e.getMonth()+1;return t+="/",t+=e.getDate(),t+="/",t+=e.getFullYear(),t+=" ",t+=e.getHours(),t+=":",t+=e.getMinutes(),t+=":",t+=e.getSeconds()}function ne(){var e=Object(r.useState)(""),t=Object(C.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(""),s=Object(C.a)(c,2),l=s[0],j=s[1],d=Object(o.h)();return Object(r.useEffect)((function(){P.a.get("/explore/getAllAuction".concat(d.search)).then((function(e){var t;for(t=0;t<e.data.length;t+=1){var n=new Date(e.data[t].postdate),a=new Date(e.data[t].cutoffdate);e.data[t].postdate=te(n),e.data[t].cutoffdate=te(a)}i(e.data.auctions),j(e.data.count),window.scrollTo(0,0)}))}),[d]),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:" Explore page "}),Object(a.jsx)(h.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"center",style:{marginBottom:"5vh"},children:Object(a.jsx)(K,{})}),Object(a.jsx)(h.a,{container:!0,direction:"column",xs:12,alignItems:"center",justify:"center",spacing:5,children:n&&n.map((function(e){return Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)($,{auction:e})})}))}),l>10&&Object(a.jsx)(h.a,{container:!0,xs:12,alignItems:"center",justify:"center",style:{marginTop:"4vh",marginBottom:"4vh"},children:Object(a.jsx)(ee,{pageCount:Math.ceil(l/10,10)})})]})}var ae=n(223),re=n(220),ie=new u.a;function ce(){var e=Object(r.useState)(!1),t=Object(C.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(),s=Object(C.a)(c,2),l=s[0],j=s[1],d=Object(r.useState)({}),u=Object(C.a)(d,2),b=u[0],O=u[1],p=Object(r.useState)(),f=Object(C.a)(p,2),g=f[0],v=f[1],y=Object(r.useState)(!1),S=Object(C.a)(y,2),w=S[0],q=S[1],D=Object(T.c)({criteriaMode:"all",mode:"onChange"}),M=D.register,R=D.errors,F=D.handleSubmit,N=D.formState,A=D.control,U=D.getValues,B=D.trigger,z=function(){B("stealPrice")};return Object(a.jsx)(a.Fragment,{children:n?Object(a.jsx)(o.a,{to:"/auction/".concat(l)}):Object(a.jsx)(I.a,{children:Object(a.jsx)("form",{onSubmit:F((function(e){B().then((function(t){if(q(!0),t){var n=new FormData;n.append("file",b),n.append("title",e.title),n.append("description",e.description),n.append("startPrice",e.startPrice),n.append("incPrice",e.increment),n.append("stealPrice",e.stealPrice),n.append("cutoffdate",e.cutoff),n.append("postDate",ie.date()),console.log(e),console.log(n),P.a.post("/upload",n).then((function(e){console.log(e.data._id),j(e.data._id),i(!0)}))}}))})),children:Object(a.jsxs)(h.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",spacing:2,style:{padding:"3vh"},children:[Object(a.jsxs)(h.a,{container:!0,item:!0,xs:7,direction:"column",spacing:2,children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Title",name:"title",variant:"filled",fullWidth:!0,required:!0,inputProps:{maxLength:"30"},inputRef:M({required:"This field is required."}),helperText:Object(a.jsx)(W.a,{errors:R,name:"title"}),error:!!R.title})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Description",name:"description",variant:"filled",rows:3,rowsMax:12,fullWidth:!0,required:!0,multiline:!0,inputProps:{maxLength:"500",style:{fontSize:"small"}},inputRef:M({required:"This field is required."}),helperText:Object(a.jsx)(W.a,{errors:R,name:"description"}),error:!!R.description})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(T.a,{as:Object(a.jsx)(ae.a,{required:!0,variant:"inline",inputVariant:"filled",fullWidth:!0,autoOk:!0,label:"Cut-off Date and Time",minutesStep:5,disablePast:!0,helperText:Object(a.jsx)(W.a,{errors:R,name:"cutoff"}),error:!!R.cutoff}),defaultValue:ie.date(),control:A,name:"cutoff",rules:{required:"This field is required.",validate:function(e){return ie.getDiff(e,ie.date())>36e5||"Must be at least an hour away from current time."}}})})]}),Object(a.jsxs)(h.a,{container:!0,item:!0,xs:5,direction:"column",spacing:2,alignItems:"flex-start",children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Starting Price",name:"startPrice",variant:"filled",fullWidth:!0,required:!0,onBlur:z,InputProps:{startAdornment:Object(a.jsx)(L.a,{position:"start",children:" Php "})},inputRef:M({required:"This field is required.",pattern:{value:/^[0-9]+$/,message:"Input a valid currency value."}}),helperText:Object(a.jsx)(W.a,{errors:R,name:"startPrice"}),error:!!R.startPrice})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Increment",name:"increment",variant:"filled",fullWidth:!0,required:!0,defaultValue:1,onBlur:z,InputProps:{startAdornment:Object(a.jsx)(L.a,{position:"start",children:" Php "})},inputRef:M({required:"This field is required.",pattern:{value:/^[0-9]+$/,message:"Input a valid currency value."}}),helperText:Object(a.jsx)(W.a,{errors:R,name:"increment"}),error:!!R.increment})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Steal Price",name:"stealPrice",variant:"filled",fullWidth:!0,required:!0,InputProps:{startAdornment:Object(a.jsx)(L.a,{position:"start",children:" Php "})},inputRef:M({required:"This field is required.",pattern:{value:/^[0-9]+$/,message:"Input a valid currency value."},validate:function(){var e=U(["stealPrice","startPrice","increment"]),t=parseInt(e.stealPrice,10),n=parseInt(e.startPrice,10),a=parseInt(e.increment,10);return t<=n?t>n||"Must be greater than start price.":(t-n)%a===0||"Must be consistent with increment"}}),helperText:Object(a.jsx)(W.a,{errors:R,name:"stealPrice"}),error:!!R.stealPrice})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsxs)(x.a,{variant:"contained",component:"label",children:["Upload File",Object(a.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:function(e){e.preventDefault();var t=e.target.files[0];!function(e){v(URL.createObjectURL(e))}(t),O(t)},required:!0,hidden:!0})]})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(m.a,{children:g&&Object(a.jsx)("img",{src:g,alt:"Item",style:{maxWidth:"20vh"}})})})]}),Object(a.jsxs)(h.a,{container:!0,item:!0,xs:12,alignItems:"center",style:{marginTop:"2vh"},children:[Object(a.jsx)(x.a,{color:"primary",variant:"contained",disabled:!N.isValid||w,type:"submit",children:"Post"}),Object(a.jsx)(re.a,{color:"primary",style:{marginTop:"20px",width:"100%"},hidden:!w})]})]})})})})}function se(){return Object(a.jsx)(h.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:Object(a.jsxs)(h.a,{item:!0,xs:12,style:{marginTop:"10vh"},children:[Object(a.jsx)(w.a,{variant:"h4",style:{fontWeight:"bold",marginBottom:"2vh"},children:"Create Auction"}),Object(a.jsx)(ce,{})]})})}var le=n(221),oe=n(219),je=n(229),de=n(115),ue=n.n(de),be=n(118),he=n.n(be),me=n(116),xe=n.n(me),Oe=n(117),pe=n.n(Oe);function fe(e){var t=e.logout,n=e.userID,r=Object(o.i)().path;return Object(a.jsx)(le.a,{color:"inherit",position:"sticky",children:Object(a.jsx)(oe.a,{children:Object(a.jsxs)(h.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(w.a,{variant:"h6",style:{fontWeight:"bold"},children:"Lasell++"})}),Object(a.jsxs)(h.a,{item:!0,children:[Object(a.jsx)(je.a,{title:"Explore",children:Object(a.jsx)(E.a,{"aria-label":"explore",href:"".concat(r,"explore"),children:Object(a.jsx)(ue.a,{})})}),Object(a.jsx)(je.a,{title:"Create",children:Object(a.jsx)(E.a,{"aria-label":"create",href:"".concat(r,"create"),children:Object(a.jsx)(xe.a,{})})}),Object(a.jsx)(je.a,{title:"Profile",children:Object(a.jsx)(E.a,{"aria-label":"profile",href:"/profile/".concat(n),children:Object(a.jsx)(pe.a,{})})}),Object(a.jsx)(je.a,{title:"Logout",children:Object(a.jsx)(E.a,{onClick:t,"aria-label":"logout",children:Object(a.jsx)(he.a,{})})})]})]})})})}function ge(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:" Hey "})})}function ve(){var e=Object(r.useState)(),t=Object(C.a)(e,2),n=t[0],i=t[1];Object(r.useEffect)((function(){P.a.get("/getID").then((function(e){i(e.data)}))}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fe,{logout:function(){P.a.get("/logout").then((function(e){"success"===e.data&&window.location.reload()}))},userID:n}),Object(a.jsx)(o.b,{exact:!0,path:"/",component:ne}),Object(a.jsx)(o.b,{path:"/explore",component:ne}),Object(a.jsx)(o.b,{path:"/create",component:se}),Object(a.jsx)(o.b,{path:"/profile/:userID",component:ge})]})}var ye=n(120),Pe=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={user:!1,isLoading:!0},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/validate").then((function(t){console.log("check session"),"Has Session"===t.data?e.setState({user:!0,isLoading:!1}):e.setState({user:!1,isLoading:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(ye.a)(e,["component"]),r=this.state,i=r.user,c=r.isLoading;return Object(a.jsx)(a.Fragment,{children:c?Object(a.jsx)("p",{children:"Loading"}):Object(a.jsx)(o.b,Object(Q.a)(Object(Q.a)({},n),{},{render:function(e){return i?Object(a.jsx)(t,Object(Q.a)(Object(Q.a)({},n),e)):Object(a.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})}}]),n}(r.Component),Se=Object(d.a)({palette:{primary:{light:"#fff",main:"#173D36",dark:"#2C989B",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});function Ie(){return Object(a.jsx)(j.a,{theme:Se,children:Object(a.jsx)(b.a,{utils:u.a,children:Object(a.jsx)(l.a,{children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/login",exact:!0,component:O}),Object(a.jsx)(Pe,{path:"/register",component:D}),Object(a.jsx)(Pe,{path:"/",component:ve})]})})})})}n(102);var we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Ie,{})}),document.getElementById("root")),we()}},[[172,1,2]]]);
//# sourceMappingURL=main.f1268a0f.chunk.js.map